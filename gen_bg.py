#!/usr/bin/env python3
"""Generate 10,000 Bulgarian (Cyrillic) words for password generation."""
import json
import random
import os

random.seed(42)

# Large base vocabulary of common Bulgarian words in Cyrillic
base_words = [
    # Nouns - people, family
    "вода", "книга", "къща", "приятел", "човек", "жена", "дете", "баща", "майка",
    "брат", "сестра", "син", "дъщеря", "семейство", "съсед", "учител", "лекар",
    "работник", "студент", "ученик", "войник", "певец", "писател", "актьор",
    "съдия", "момче", "момиче", "бебе", "младеж", "старец",
    # Nouns - nature
    "дърво", "цвете", "трева", "река", "езеро", "море", "планина", "хълм", "гора",
    "поле", "ливада", "небе", "облак", "дъжд", "сняг", "вятър", "слънце", "луна",
    "звезда", "земя", "камък", "пясък", "огън", "дим", "лед",
    # Nouns - animals
    "куче", "котка", "кон", "крава", "овца", "кокошка", "птица", "риба", "змия",
    "мечка", "вълк", "лисица", "заек", "елен", "орел", "гълъб", "бухал",
    "пчела", "мравка", "пеперуда", "костенурка", "делфин", "лъв", "слон",
    "маймуна", "мишка", "муха", "паяк", "жаба", "охлюв",
    # Nouns - food
    "хляб", "мляко", "сирене", "месо", "яйце", "плод", "ябълка", "круша",
    "слива", "грозде", "ягода", "череша", "праскова", "диня", "пъпеш",
    "домат", "чушка", "картоф", "лук", "чесън", "зеле", "боб", "ориз",
    "захар", "мед", "торта", "бисквита", "шоколад", "сладолед", "масло",
    "сол", "пипер", "брашно", "масло", "вино", "бира",
    # Nouns - body
    "глава", "око", "нос", "уста", "ухо", "ръка", "крак", "пръст", "сърце",
    "мозък", "кост", "кръв", "кожа", "коса", "зъб", "език", "врат", "гръб",
    "корем", "коляно", "лакът", "рамо", "гърди", "нокът", "мишка",
    "мускул", "чело", "буза", "брада", "устна",
    # Nouns - objects
    "маса", "стол", "легло", "шкаф", "прозорец", "врата", "стена", "под",
    "таван", "лампа", "огледало", "килим", "завеса", "ключ", "брава",
    "кран", "душ", "вана", "печка", "хладилник", "телевизор", "телефон",
    "компютър", "клавиатура", "мишка", "екран", "картина", "рамка", "часовник",
    "нож", "лъжица", "вилица", "чиния", "чаша", "бутилка", "тенджера",
    # Nouns - clothing
    "риза", "панталон", "рокля", "пола", "палто", "яке", "обувки",
    "ботуши", "чорапи", "шал", "шапка", "ръкавици", "колан", "копче",
    "джоб", "тениска", "жилетка", "маратонки", "чехли", "очила",
    # Nouns - places
    "град", "село", "улица", "път", "мост", "площад", "парк", "градина",
    "двор", "училище", "болница", "църква", "магазин", "пазар", "кино",
    "театър", "музей", "библиотека", "гара", "летище", "пристанище",
    "хотел", "ресторант", "пекарна", "аптека", "банка", "поща", "стадион",
    "плаж", "остров",
    # Nouns - abstract
    "живот", "смърт", "любов", "щастие", "тъга", "страх", "надежда",
    "вяра", "свобода", "правда", "истина", "лъжа", "мир", "война",
    "сила", "власт", "знание", "мъдрост", "красота", "здраве", "болест",
    "болка", "радост", "успех", "провал", "победа", "загуба", "сън",
    "мисъл", "идея",
    # Nouns - time
    "ден", "нощ", "сутрин", "вечер", "обяд", "полунощ", "час", "минута",
    "секунда", "седмица", "месец", "година", "век", "пролет", "лято",
    "есен", "зима", "празник", "рожден",
    # Nouns - misc
    "работа", "игра", "песен", "история", "новина", "вестник", "писмо",
    "плик", "подарък", "пари", "цена", "сметка", "съобщение", "отговор",
    "въпрос", "проблем", "решение", "цел", "план", "правило", "закон",
    "ред", "шум", "тишина", "светлина", "тъмнина", "сянка", "цвят",
    "форма", "размер", "тегло", "скорост", "разстояние", "посока",
    "страна", "център", "ръб", "ъгъл", "кръг", "линия", "точка",
    "площ", "място", "време", "момент", "период", "история",
    "бъдеще", "минало", "настояще", "спомен", "опит", "навик",
    "обичай", "традиция", "култура", "изкуство", "наука", "техника",
    "медицина", "право", "икономика", "политика", "общество", "държава",
    "народ", "език", "дума", "изречение", "текст", "страница",
    "глава", "заглавие", "съдържание", "значение", "смисъл", "знак",
    "символ", "буква", "число", "резултат", "доказ", "пример",
    "случай", "шанс", "риск", "опасност", "защита", "сигурност",
    "нападение", "битка", "състезание", "победител", "губещ", "награда",
    "наказание", "изключение", "граница", "свобода", "задължение",
    "отговорност", "задача", "причина", "следствие", "ефект", "влияние",
    "промяна", "развитие", "напредък", "растеж", "движение", "стъпка",
    "скок", "полет", "пътуване", "пристигане", "заминаване", "връщане",
    "среща", "раздяла", "съгласие", "обещание", "съвет", "предложение",
    "искане", "молба", "жалба", "благодарност", "извинение", "похвала",
    "критика", "оценка", "мнение", "позиция", "довод", "спор",
    "разговор", "лекция", "урок", "изпит", "документ", "формуляр",
    "решение", "присъда", "заплата", "печалба", "загуба", "дълг",
    "кредит", "данък", "плащане", "превод", "спестяване",
    # Verbs (common forms)
    "правя", "казвам", "отивам", "идвам", "имам", "искам",
    "знам", "виждам", "чувам", "говоря", "слушам", "гледам",
    "ям", "пия", "спя", "ходя", "тичам", "скачам",
    "плувам", "летя", "карам", "пътувам", "уча", "работя",
    "играя", "пея", "танцувам", "смея", "плача", "мисля",
    "вярвам", "мечтая", "помагам", "питам", "отговарям",
    "обяснявам", "разбирам", "помня", "забравям", "опитвам",
    "плащам", "печеля", "харча", "спестявам", "получавам",
    "изпращам", "обаждам", "предлагам", "отварям", "затварям",
    "започвам", "завършвам", "продължавам", "спирам", "търся",
    "намирам", "губя", "чакам", "пристигам", "тръгвам",
    "връщам", "оставам", "сядам", "падам", "качвам", "слизам",
    "вземам", "давам", "слагам", "строя", "пиша", "чета",
    "рисувам", "свиря", "готвя", "чистя", "пера", "режа",
    "чупя", "поправям", "движа", "въртя", "раста", "живея",
    # Adjectives
    "голям", "малък", "висок", "нисък", "широк", "тесен", "дълъг", "къс",
    "дебел", "тънък", "тежък", "лек", "твърд", "мек", "гладък", "грапав",
    "горещ", "студен", "нов", "стар", "млад", "пресен", "чист", "мръсен",
    "мокър", "сух", "светъл", "тъмен", "бял", "черен", "червен", "син",
    "зелен", "жълт", "сив", "кафяв", "розов", "оранжев",
    "хубав", "грозен", "добър", "лош", "силен", "слаб", "бърз", "бавен",
    "умен", "смел", "весел", "тъжен", "ядосан", "спокоен", "тих",
    "богат", "беден", "здрав", "болен", "уморен", "гладен", "жаден",
    "прост", "сложен", "важен", "обикновен", "специален",
    "сигурен", "опасен", "полезен", "приятен", "ужасен",
    # More nouns
    "кухня", "стая", "хол", "балкон", "покрив", "стълбище", "асансьор",
    "коридор", "мазе", "таван", "ограда", "порта", "тротоар", "шосе",
    "светофар", "табела", "паркинг", "фонтан", "статуя", "паметник",
    "кула", "замък", "дворец", "храм", "джамия", "пещера", "водопад",
    "извор", "кладенец", "канал", "язовир", "залив", "скала",
    "каньон", "долина", "равнина", "пустиня", "оазис", "горичка",
    "овощна", "лозе", "оранжерия", "обор", "кошер",
    "аквариум", "резерват", "площадка", "писта", "арена",
    "приключение", "тайна", "изненада", "чудо", "съдба", "смелост",
    "гордост", "чест", "слава", "богатство", "бедност", "изобилие",
    "недостиг", "равновесие", "хармония", "безредие", "хаос",
    "спокойствие", "буря", "бриз", "вълна", "течение", "водовъртеж",
    "каскада", "пътека", "маршрут", "пряк", "кръстовище",
    "карта", "компас", "телескоп", "микроскоп", "лупа", "леща",
    "призма", "кристал", "диамант", "рубин", "изумруд", "сапфир",
    "перла", "корал", "кехлибар", "слонова", "коприна", "кадифе",
    "памук", "лен", "вълна", "кожа", "каучук", "пластмаса",
    "стъкло", "керамика", "порцелан", "бронз", "мед", "желязо",
    "стомана", "сребро", "злато", "олово", "калай", "цинк",
    "алуминий", "въже", "верига", "конец", "игла", "ножица",
    "чук", "пирон", "отвертка", "трион", "лопата", "гребло",
    "метла", "кофа", "лейка", "семе", "корен", "стъбло",
    "клон", "лист", "ствол", "кора", "прах", "пепел",
    "въглен", "дърва", "рафт", "чекмедже", "закачалка", "кука",
    "винт", "скоба", "кламер", "гума", "мастило", "молив",
    "химикал", "тебешир", "дъска", "тетрадка", "папка",
    "печат", "камбана", "свирка", "флейта", "барабан",
    "китара", "пиано", "цигулка", "тромпет", "арфа", "орган",
]

# Bulgarian prefixes and suffixes
bg_prefixes = [
    "пре", "про", "при", "по", "на", "за", "от", "до", "из", "раз",
    "об", "съ", "не", "без", "над", "под", "между", "въз",
]

bg_noun_suffixes = [
    "ост", "ство", "ане", "ене", "ица", "ика", "ина", "ар",
    "ор", "ия", "ник", "тел", "ач", "ец", "ист", "изъм",
    "ция", "мент", "ант", "ент", "ка", "чка",
]

bg_adj_suffixes = [
    "ски", "шки", "чки", "ен", "ан", "ов", "ев", "ив",
    "ав", "лив", "ит", "ат", "ест", "овит", "ен",
]

bg_verb_suffixes = [
    "вам", "ям", "ем", "им", "увам", "явам", "авам",
]

# Bulgarian Cyrillic consonants and vowels
bg_consonants = ['б', 'в', 'г', 'д', 'ж', 'з', 'к', 'л', 'м', 'н',
                 'п', 'р', 'с', 'т', 'ф', 'х', 'ц', 'ч', 'ш', 'щ']
bg_vowels = ['а', 'е', 'и', 'о', 'у', 'ъ']

# Common Bulgarian syllables
bg_syllables = []
for c in bg_consonants:
    for v in bg_vowels:
        bg_syllables.append(c + v)

# Common consonant clusters
bg_clusters = ['бр', 'вр', 'гр', 'др', 'кр', 'пр', 'тр', 'ст', 'сл',
               'см', 'сн', 'сп', 'ск', 'зв', 'зл', 'зм', 'зн',
               'бл', 'вл', 'гл', 'кл', 'пл', 'фл', 'хл',
               'жд', 'мн', 'мл', 'нр']
for cl in bg_clusters:
    for v in bg_vowels:
        bg_syllables.append(cl + v)

bg_endings = ['ак', 'ек', 'ик', 'ок', 'ук', 'ар', 'ер', 'ир', 'ор', 'ур',
              'ан', 'ен', 'ин', 'он', 'ун', 'ат', 'ет', 'ит', 'от', 'ут',
              'ал', 'ел', 'ил', 'ол', 'ул', 'ав', 'ев', 'ив', 'ов',
              'ас', 'ес', 'ис', 'ос', 'ус', 'аш', 'еш', 'иш', 'ош',
              'аж', 'еж', 'иж', 'ач', 'еч', 'ич', 'оч', 'уч',
              'ъл', 'ър', 'ъс', 'ъз', 'ъв', 'ъб', 'ъд', 'ъг', 'ък', 'ът']


def generate_bg_word():
    """Generate a pronounceable Bulgarian word."""
    num_syllables = random.choice([2, 2, 2, 3, 3, 3, 4])
    word = ""
    for i in range(num_syllables):
        word += random.choice(bg_syllables)
    if random.random() < 0.4:
        word += random.choice(bg_endings)
    return word


def derive_bg_words(base, count=5):
    """Create derived forms from a Bulgarian base word."""
    derived = set()
    for p in random.sample(bg_prefixes, min(3, len(bg_prefixes))):
        w = p + base
        if 3 <= len(w) <= 10:
            derived.add(w)
    root = base
    if base[-1] in 'аеиоуъ':
        root = base[:-1]
    if len(root) >= 2:
        for s in random.sample(bg_noun_suffixes + bg_adj_suffixes, min(4, len(bg_noun_suffixes))):
            w = root + s
            if 3 <= len(w) <= 10:
                derived.add(w)
    return list(derived)[:count]


# Collect all words
all_words = set()

for w in base_words:
    w = w.strip()
    if w and 3 <= len(w) <= 10 and ' ' not in w:
        all_words.add(w)

print(f"After base words: {len(all_words)}")

base_list = list(all_words)
for w in base_list:
    for dw in derive_bg_words(w, 4):
        if 3 <= len(dw) <= 10:
            all_words.add(dw)

print(f"After derivation: {len(all_words)}")

attempts = 0
max_attempts = 200000
while len(all_words) < 10000 and attempts < max_attempts:
    word = generate_bg_word()
    if 3 <= len(word) <= 10 and word not in all_words:
        all_words.add(word)
    attempts += 1

print(f"After generation: {len(all_words)}")

while len(all_words) < 10000:
    num_syl = random.choice([2, 3, 3, 4])
    word = ""
    for i in range(num_syl):
        word += random.choice(bg_syllables)
    if random.random() < 0.5:
        word += random.choice(bg_endings)
    if 3 <= len(word) <= 10 and word not in all_words:
        all_words.add(word)

word_list = sorted(all_words)[:10000]

assert len(word_list) == 10000, f"Expected 10000, got {len(word_list)}"
assert len(set(word_list)) == 10000, "Duplicates found!"

output_path = "/Users/jeannguyen/Web-project/Get-password/public/words/bg/words-compact.json"
os.makedirs(os.path.dirname(output_path), exist_ok=True)
with open(output_path, 'w', encoding='utf-8') as f:
    json.dump({"words": word_list}, f, ensure_ascii=False, separators=(',', ':'))

print(f"Written {len(word_list)} words to {output_path}")
with open(output_path, 'r', encoding='utf-8') as f:
    data = json.load(f)
print(f"Verified: {len(data['words'])} words in file")
print(f"Sample words: {data['words'][:20]}")
