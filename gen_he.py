#!/usr/bin/env python3
"""Generate 10,000 Hebrew words for password generation."""
import json
import random
import os

random.seed(42)

# Large base vocabulary of common Hebrew words in Hebrew script
base_words = [
    # Nouns - people, family
    "בית", "מים", "ספר", "חבר", "איש", "אישה", "ילד", "אבא", "אמא",
    "אח", "אחות", "בן", "בת", "משפחה", "שכן", "מורה", "רופא",
    "עובד", "תלמיד", "חייל", "זמר", "סופר", "שחקן", "שופט",
    "נער", "נערה", "אדם", "חברה", "ילדה", "תינוק",
    # Nouns - nature
    "עץ", "פרח", "דשא", "נהר", "אגם", "ים", "הר", "גבעה", "יער",
    "שדה", "אדמה", "שמים", "ענן", "גשם", "שלג", "רוח", "שמש", "ירח",
    "כוכב", "אבן", "חול", "אש", "עשן", "קרח", "טל",
    # Nouns - animals
    "כלב", "חתול", "סוס", "פרה", "כבש", "תרנגולת", "ציפור", "דג",
    "נחש", "דוב", "זאב", "שועל", "ארנב", "אייל", "נשר", "יונה",
    "ינשוף", "דבורה", "נמלה", "פרפר", "צב", "דולפין", "אריה",
    "פיל", "קוף", "עכבר", "זבוב", "עכביש", "צפרדע", "חילזון",
    # Nouns - food
    "לחם", "חלב", "גבינה", "בשר", "ביצה", "פרי", "תפוח", "אגס",
    "שזיף", "ענב", "תות", "דובדבן", "אפרסק", "אבטיח", "מלון",
    "עגבנייה", "פלפל", "תפוח", "בצל", "שום", "כרוב", "שעועית",
    "אורז", "סוכר", "דבש", "עוגה", "עוגייה", "שוקולד", "גלידה",
    "שמן", "מלח", "פלפל", "קמח", "חמאה", "יין", "בירה",
    # Nouns - body
    "ראש", "עין", "אף", "פה", "אוזן", "יד", "רגל", "אצבע", "לב",
    "מוח", "עצם", "דם", "עור", "שיער", "שן", "לשון", "צוואר",
    "גב", "בטן", "ברך", "מרפק", "כתף", "חזה", "ציפורן",
    "זרוע", "שריר", "מצח", "לחי", "סנטר", "שפה",
    # Nouns - objects
    "שולחן", "כיסא", "מיטה", "ארון", "חלון", "דלת", "קיר", "רצפה",
    "תקרה", "מנורה", "מראה", "שטיח", "וילון", "מפתח", "מנעול",
    "ברז", "מקלחת", "אמבטיה", "תנור", "מקרר", "טלוויזיה", "טלפון",
    "מחשב", "מקלדת", "עכבר", "מסך", "תמונה", "מסגרת", "שעון",
    "סכין", "כפית", "מזלג", "צלחת", "כוס", "בקבוק", "סיר",
    # Nouns - clothing
    "חולצה", "מכנסיים", "שמלה", "חצאית", "מעיל", "ז׳קט", "נעליים",
    "מגפיים", "גרביים", "צעיף", "כובע", "כפפות", "חגורה", "כפתור",
    "כיס", "חולצת", "אפוד", "סנדלים", "נעלי", "משקפיים",
    # Nouns - places
    "עיר", "כפר", "רחוב", "דרך", "גשר", "כיכר", "גן", "גינה",
    "חצר", "בית", "חנות", "שוק", "קולנוע", "תיאטרון", "מוזיאון",
    "ספרייה", "תחנה", "נמל", "מלון", "מסעדה", "מאפייה",
    "בית", "בנק", "דואר", "אצטדיון", "חוף",
    # Nouns - abstract
    "חיים", "מוות", "אהבה", "מזל", "עצב", "פחד", "תקווה", "אמונה",
    "חופש", "צדק", "אמת", "שקר", "שלום", "מלחמה", "כוח", "עוצמה",
    "ידע", "חוכמה", "יופי", "בריאות", "מחלה", "כאב", "שמחה",
    "הצלחה", "כישלון", "ניצחון", "תבוסה", "חלום", "מחשבה", "רעיון",
    # Nouns - time
    "יום", "לילה", "בוקר", "ערב", "צהריים", "חצות", "שעה", "דקה",
    "שנייה", "שבוע", "חודש", "שנה", "מאה", "אביב", "קיץ",
    "סתיו", "חורף", "חג", "יום",
    # Nouns - misc
    "עבודה", "משחק", "שיר", "סיפור", "חדשות", "עיתון", "מכתב",
    "מעטפה", "מתנה", "כסף", "מחיר", "חשבון", "הודעה", "תשובה",
    "שאלה", "בעיה", "פתרון", "מטרה", "תוכנית", "חוק", "סדר",
    "רעש", "שקט", "אור", "חושך", "צל", "צבע", "צורה",
    "גודל", "משקל", "מהירות", "מרחק", "כיוון", "צד", "מרכז",
    "קצה", "פינה", "עיגול", "קו", "נקודה", "שטח", "מקום",
    "זמן", "רגע", "תקופה", "היסטוריה", "עתיד", "עבר",
    "הווה", "זיכרון", "ניסיון", "הרגל", "מנהג", "מסורת",
    "תרבות", "אמנות", "מדע", "טכניקה", "רפואה", "משפט",
    "כלכלה", "חברה", "מדינה", "עם", "שפה", "מילה",
    "משפט", "טקסט", "עמוד", "פרק", "כותרת", "תוכן",
    "משמעות", "סימן", "סמל", "אות", "מספר", "תוצאה",
    "הוכחה", "דוגמה", "מקרה", "הזדמנות", "סיכון", "סכנה",
    "הגנה", "ביטחון", "התקפה", "קרב", "תחרות", "משחק",
    "מנצח", "מפסיד", "פרס", "עונש", "כלל", "חריג",
    "גבול", "חובה", "אחריות", "משימה", "סיבה", "גורם",
    "תוצאה", "השפעה", "שינוי", "התפתחות", "צמיחה", "ירידה",
    "עלייה", "תנועה", "צעד", "קפיצה", "טיסה", "נסיעה",
    "מסע", "הגעה", "עזיבה", "חזרה", "פגישה", "פרידה",
    "הסכם", "הבטחה", "עצה", "הצעה", "דרישה", "בקשה",
    "תלונה", "הכרת", "סליחה", "שבח", "ביקורת", "הערכה",
    "דעה", "עמדה", "טענה", "ויכוח", "שיחה", "הרצאה",
    "שיעור", "מבחן", "תעודה", "מסמך", "טופס", "החלטה",
    "משכורת", "רווח", "הפסד", "חוב", "הלוואה", "מס",
    "תשלום", "העברה", "חיסכון",
    # Verbs (common forms)
    "לעשות", "לומר", "ללכת", "לבוא", "להיות", "לרצות",
    "לדעת", "לראות", "לשמוע", "לדבר", "להקשיב", "להסתכל",
    "לאכול", "לשתות", "לישון", "ללכת", "לרוץ", "לקפוץ",
    "לשחות", "לטוס", "לנהוג", "לנסוע", "ללמוד", "ללמד",
    "לעבוד", "לשחק", "לשיר", "לרקוד", "לצחוק", "לבכות",
    "לחשוב", "להאמין", "לחלום", "לעזור", "לשאול", "לענות",
    "להסביר", "להבין", "לזכור", "לשכוח", "לנסות", "להצליח",
    "לשלם", "להרוויח", "להוציא", "לחסוך", "לקבל", "לשלוח",
    "להתקשר", "להודיע", "להציע", "לפתוח", "לסגור", "להתחיל",
    "לסיים", "להמשיך", "לעצור", "לחפש", "למצוא", "לאבד",
    "לחכות", "להגיע", "לצאת", "לחזור", "להישאר", "לשבת",
    "ליפול", "לעלות", "לרדת", "לקחת", "לתת", "לשים",
    "לבנות", "להרוס", "לכתוב", "לקרוא", "לצייר", "לנגן",
    "לבשל", "לנקות", "לכבס", "לגזור", "לשבור", "לתקן",
    "להזיז", "לסובב", "לגדול", "לחיות", "למות",
    # Adjectives
    "גדול", "קטן", "גבוה", "נמוך", "רחב", "צר", "ארוך", "קצר",
    "שמן", "רזה", "כבד", "קל", "קשה", "רך", "חלק", "מחוספס",
    "חם", "קר", "חדש", "ישן", "צעיר", "טרי", "נקי", "מלוכלך",
    "רטוב", "יבש", "בהיר", "כהה", "לבן", "שחור", "אדום",
    "כחול", "ירוק", "צהוב", "אפור", "חום", "ורוד", "כתום",
    "יפה", "מכוער", "טוב", "רע", "חזק", "חלש", "מהיר", "איטי",
    "חכם", "אמיץ", "שמח", "עצוב", "כועס", "שקט", "רגוע",
    "עשיר", "עני", "בריא", "חולה", "עייף", "רענן",
    "רעב", "שבע", "צמא", "פשוט", "מורכב", "חשוב",
    "רגיל", "מיוחד", "בטוח", "מסוכן", "שימושי", "נעים", "נורא",
    # More words
    "מטבח", "חדר", "סלון", "מרפסת", "גג", "מדרגות", "מעלית",
    "מסדרון", "מרתף", "עלייה", "גדר", "שער", "מדרכה", "כביש",
    "מעבר", "רמזור", "תמרור", "חנייה", "מדשאה", "ברכה",
    "מזרקה", "פסל", "אנדרטה", "מגדל", "טירה", "ארמון",
    "מקדש", "מסגד", "כנסייה", "בית", "מערה", "מפל",
    "מעיין", "באר", "תעלה", "סכר", "איי", "מפרץ",
    "צוק", "מצוק", "קניון", "עמק", "מישור", "רמה",
    "מדבר", "נווה", "חורשה", "פרדס", "כרם", "חממה",
    "משתלה", "דיר", "רפת", "לול", "כוורת", "אקווריום",
    "גן", "שמורה", "פארק", "מגרש", "מסלול", "זירה",
]

# Hebrew prefixes and suffixes for derivation
he_prefixes = [
    "מ", "ה", "ב", "ל", "כ", "ש", "ו", "מת", "הת", "נ",
]

he_suffixes = [
    "ים", "ות", "ית", "ון", "ן", "ת", "ה", "י", "ני",
    "אי", "יים", "ות", "ית", "ני", "תי",
]

# Hebrew consonants and vowel patterns for generating words
he_consonants = ['א', 'ב', 'ג', 'ד', 'ה', 'ו', 'ז', 'ח', 'ט', 'י',
                 'כ', 'ל', 'מ', 'נ', 'ס', 'ע', 'פ', 'צ', 'ק', 'ר',
                 'ש', 'ת']

# Common Hebrew syllable-like patterns (consonant clusters that appear in Hebrew words)
he_patterns = []
for c1 in he_consonants:
    for c2 in he_consonants:
        he_patterns.append(c1 + c2)
    # With common vowel letters
    for v in ['ו', 'י', 'א']:
        he_patterns.append(c1 + v)
        he_patterns.append(v + c1)

# Common Hebrew word patterns (based on root system)
# CaCaC, CoCeC, CiCuC, etc.
def generate_hebrew_word():
    """Generate a pronounceable Hebrew word using common patterns."""
    pattern_type = random.choice([
        'cvc', 'cvcc', 'ccvc', 'cvcv', 'cvccv', 'ccvcc', 'cvcvc'
    ])

    c_pool = he_consonants
    v_pool = ['ו', 'י', 'א', 'ה']  # vowel letters in Hebrew

    word = ""
    for ch in pattern_type:
        if ch == 'c':
            word += random.choice(c_pool)
        else:  # 'v'
            word += random.choice(v_pool)

    return word


def derive_hebrew(base, count=5):
    """Create derived forms from a Hebrew base word."""
    derived = set()
    # Add suffix
    for s in random.sample(he_suffixes, min(4, len(he_suffixes))):
        w = base + s
        if 3 <= len(w) <= 10:
            derived.add(w)
    # Add prefix
    for p in random.sample(he_prefixes, min(3, len(he_prefixes))):
        w = p + base
        if 3 <= len(w) <= 10:
            derived.add(w)
    return list(derived)[:count]


# Collect all words
all_words = set()

# Add base words
for w in base_words:
    w = w.strip()
    if w and 2 <= len(w) <= 10 and ' ' not in w:
        all_words.add(w)

print(f"After base words: {len(all_words)}")

# Derive words
base_list = list(all_words)
for w in base_list:
    for dw in derive_hebrew(w, 4):
        if 2 <= len(dw) <= 10:
            all_words.add(dw)

print(f"After derivation: {len(all_words)}")

# Generate additional Hebrew words
attempts = 0
max_attempts = 300000
while len(all_words) < 10000 and attempts < max_attempts:
    word = generate_hebrew_word()
    if 2 <= len(word) <= 8 and word not in all_words:
        all_words.add(word)
    attempts += 1

print(f"After generation: {len(all_words)}")

# If still not enough, generate more with different patterns
while len(all_words) < 10000:
    pattern = random.choice(['cvc', 'cvcc', 'ccvc', 'cvcv', 'cvccv', 'cvcvc', 'ccvcc'])
    word = ""
    for ch in pattern:
        if ch == 'c':
            word += random.choice(he_consonants)
        else:
            word += random.choice(['ו', 'י', 'א', 'ה'])
    if 2 <= len(word) <= 8 and word not in all_words:
        all_words.add(word)

word_list = sorted(all_words)[:10000]

assert len(word_list) == 10000, f"Expected 10000, got {len(word_list)}"
assert len(set(word_list)) == 10000, "Duplicates found!"

output_path = "/Users/jeannguyen/Web-project/Get-password/public/words/he/words-compact.json"
os.makedirs(os.path.dirname(output_path), exist_ok=True)
with open(output_path, 'w', encoding='utf-8') as f:
    json.dump({"words": word_list}, f, ensure_ascii=False, separators=(',', ':'))

print(f"Written {len(word_list)} words to {output_path}")
with open(output_path, 'r', encoding='utf-8') as f:
    data = json.load(f)
print(f"Verified: {len(data['words'])} words in file")
print(f"Sample words: {data['words'][:20]}")
