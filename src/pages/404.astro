---
import Layout from '../layouts/Layout.astro';
---

<Layout title='404'>
  <main>
    <div>
      <h1>404</h1>
      <p id="notFoundMessage">Page not found</p>
      <p>
        <a href='/' id="homeLink">Go back home</a>
      </p>
    </div>
  </main>
</Layout>

<script is:inline>
  (function() {
    const messages = {
      en: { text: 'This page could not be found.', link: 'Go back home' },
      fr: { text: 'Cette page est introuvable.', link: 'Retour à l\'accueil' },
      es: { text: 'Esta página no se pudo encontrar.', link: 'Volver al inicio' },
      de: { text: 'Diese Seite wurde nicht gefunden.', link: 'Zurück zur Startseite' },
    };
    const supported = ['en', 'fr', 'es', 'de'];
    const browserLang = (navigator.languages?.[0] || navigator.language || 'en')
      .split('-')[0].toLowerCase();
    const lang = supported.includes(browserLang) ? browserLang : 'en';
    const msg = messages[lang];
    const messageEl = document.getElementById('notFoundMessage');
    const linkEl = document.getElementById('homeLink');
    if (messageEl) messageEl.textContent = msg.text;
    if (linkEl) {
      linkEl.textContent = msg.link;
      linkEl.href = '/' + lang + '/';
    }
  })();
</script>

<style>
  main {
    display: grid;
    place-items: center;
    text-align: center;
    height: 80vh;
  }

  a {
    color: var(--color-accent);
    text-decoration: none;
    font-weight: 600;
  }

  a:hover {
    text-decoration: underline;
  }
</style>
